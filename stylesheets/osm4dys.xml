<?xml version="1.0" encoding="utf-8"?>

<!DOCTYPE Map [
    <!ENTITY db_type "postgis">
    <!ENTITY db_password "osm4dys">
    <!ENTITY db_host "localhost">
    <!ENTITY db_port "5432">
    <!ENTITY db_user "postgres">
    <!ENTITY db_name "osm4dys">
    <!ENTITY db_estimate_extent "true">
    <!ENTITY srs_3857 "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs +over">
    
    <!ENTITY maxscale_zoom0 "<MaxScaleDenominator>250000000000</MaxScaleDenominator>">
    <!ENTITY minscale_zoom0 "">
    <!ENTITY maxscale_zoom1 "<MaxScaleDenominator>500000000</MaxScaleDenominator>">
    <!ENTITY minscale_zoom1 "<MinScaleDenominator>200000000</MinScaleDenominator>">
    <!ENTITY maxscale_zoom2 "<MaxScaleDenominator>200000000</MaxScaleDenominator>">
    <!ENTITY minscale_zoom2 "<MinScaleDenominator>100000000</MinScaleDenominator>">
    <!ENTITY maxscale_zoom3 "<MaxScaleDenominator>100000000</MaxScaleDenominator>">
    <!ENTITY minscale_zoom3 "<MinScaleDenominator>50000000</MinScaleDenominator>">
    <!ENTITY maxscale_zoom4 "<MaxScaleDenominator>50000000</MaxScaleDenominator>">
    <!ENTITY minscale_zoom4 "<MinScaleDenominator>25000000</MinScaleDenominator>">
    <!ENTITY maxscale_zoom5 "<MaxScaleDenominator>25000000</MaxScaleDenominator>">
    <!ENTITY minscale_zoom5 "<MinScaleDenominator>12500000</MinScaleDenominator>">
    <!ENTITY maxscale_zoom6 "<MaxScaleDenominator>12500000</MaxScaleDenominator>">
    <!ENTITY minscale_zoom6 "<MinScaleDenominator>6500000</MinScaleDenominator>">
    <!ENTITY maxscale_zoom7 "<MaxScaleDenominator>6500000</MaxScaleDenominator>">
    <!ENTITY minscale_zoom7 "<MinScaleDenominator>3000000</MinScaleDenominator>">
    <!ENTITY maxscale_zoom8 "<MaxScaleDenominator>3000000</MaxScaleDenominator>">
    <!ENTITY minscale_zoom8 "<MinScaleDenominator>1500000</MinScaleDenominator>">
    <!ENTITY maxscale_zoom9 "<MaxScaleDenominator>1500000</MaxScaleDenominator>">
    <!ENTITY minscale_zoom9 "<MinScaleDenominator>750000</MinScaleDenominator>">
    <!ENTITY maxscale_zoom10 "<MaxScaleDenominator>750000</MaxScaleDenominator>">
    <!ENTITY minscale_zoom10 "<MinScaleDenominator>400000</MinScaleDenominator>">
    <!ENTITY maxscale_zoom11 "<MaxScaleDenominator>400000</MaxScaleDenominator>">
    <!ENTITY minscale_zoom11 "<MinScaleDenominator>200000</MinScaleDenominator>">
    <!ENTITY maxscale_zoom12 "<MaxScaleDenominator>200000</MaxScaleDenominator>">
    <!ENTITY minscale_zoom12 "<MinScaleDenominator>100000</MinScaleDenominator>">
    <!ENTITY maxscale_zoom13 "<MaxScaleDenominator>100000</MaxScaleDenominator>">
    <!ENTITY minscale_zoom13 "<MinScaleDenominator>50000</MinScaleDenominator>">
    <!ENTITY maxscale_zoom14 "<MaxScaleDenominator>50000</MaxScaleDenominator>">
    <!ENTITY minscale_zoom14 "<MinScaleDenominator>25000</MinScaleDenominator>">
    <!ENTITY maxscale_zoom15 "<MaxScaleDenominator>25000</MaxScaleDenominator>">
    <!ENTITY minscale_zoom15 "<MinScaleDenominator>12500</MinScaleDenominator>">
    <!ENTITY maxscale_zoom16 "<MaxScaleDenominator>12500</MaxScaleDenominator>">
    <!ENTITY minscale_zoom16 "<MinScaleDenominator>5000</MinScaleDenominator>">
    <!ENTITY maxscale_zoom17 "<MaxScaleDenominator>5000</MaxScaleDenominator>">
    <!ENTITY minscale_zoom17 "<MinScaleDenominator>2500</MinScaleDenominator>">
    <!ENTITY maxscale_zoom18 "<MaxScaleDenominator>2500</MaxScaleDenominator>">
    <!ENTITY minscale_zoom18 "">
]>

<Map background-color="#addeff" srs="&srs_3857;" minimum-version="2.0.0">
    <FontSet name="dys-fonts">
        <Font face-name="OpenDyslexicAlta Regular" />
    </FontSet>
    <FontSet name="bold-fonts">
        <Font face-name="DejaVu Sans Bold" />
        <Font face-name="unifont Medium" />
    </FontSet>
    <FontSet name="oblique-fonts">
        <Font face-name="DejaVu Sans Oblique" />
        <Font face-name="unifont Medium" />
    </FontSet>

    <Style name="ne_50m_admin_0_countries_union">
        <Rule>
            &maxscale_zoom3;
            &minscale_zoom3;
            <TextSymbolizer face-name="OpenDyslexicAlta Regular" size="10" fill="black" placement="interior" allow-overlap="false">[region_wb]</TextSymbolizer>
        </Rule>
    </Style>
    <Style name="simplified_land_polygons">
        <Rule>
            &maxscale_zoom0;
            &minscale_zoom5;
            <PolygonSymbolizer fill-opacity="0.5" fill="#dbd7ce"/>
        </Rule>
        <Rule>
            &maxscale_zoom0;
            &minscale_zoom5;
            <LineSymbolizer stroke="#000000" stroke-width="0.26"/>
        </Rule>    
    </Style>

    <Layer name="simplified_land_polygons" status="on" srs="&srs_3857;">
        <StyleName>simplified_land_polygons</StyleName>
        <Datasource>
            <Parameter name="table">
                (
                SELECT gid,fid,id,geom
                FROM constant_data.simplified_land_polygons
                ) AS simplified_land_polygons
            </Parameter>
            <Parameter name="type">&db_type;</Parameter>
            <Parameter name="password">&db_password;</Parameter>
            <Parameter name="host">&db_host;</Parameter>
            <Parameter name="port">&db_port;</Parameter>
            <Parameter name="user">&db_user;</Parameter>
            <Parameter name="dbname">&db_name;</Parameter>
            <Parameter name="estimate_extent">&db_estimate_extent;</Parameter>
        </Datasource>
    </Layer>    
    
    <Layer name="ne_50m_admin_0_countries_union" status="on" srs="&srs_3857;">
        <StyleName>ne_50m_admin_0_countries_union</StyleName>
        <Datasource>
            <Parameter name="table">
                (
                SELECT st_union,region_wb
                FROM constant_data.ne_50m_admin_0_countries_union
                ) AS ne_50m_admin_0_countries_union
            </Parameter>
            <Parameter name="type">&db_type;</Parameter>
            <Parameter name="password">&db_password;</Parameter>
            <Parameter name="host">&db_host;</Parameter>
            <Parameter name="port">&db_port;</Parameter>
            <Parameter name="user">&db_user;</Parameter>
            <Parameter name="dbname">&db_name;</Parameter>
            <Parameter name="estimate_extent">&db_estimate_extent;</Parameter>
        </Datasource>
    </Layer>    
    
</Map>

